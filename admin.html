<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nibras Ahmed - Admin Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        body { font-family: 'Arial', sans-serif; background-color: #f8f9fa; }
        .container { max-width: 800px; margin-top: 20px; }
        .form-section { margin-bottom: 40px; }
        .project-list { margin-top: 20px; }
        .project-item { border: 1px solid #ddd; padding: 15px; margin-bottom: 10px; border-radius: 5px; }
        .error-message { color: red; display: none; }
        .success-message { color: green; display: none; }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center mb-4">Admin Dashboard - Manage Projects</h1>

        <!-- Add Project Form -->
        <div class="form-section">
            <h3>Add New Project</h3>
            <form id="addProjectForm">
                <div class="mb-3">
                    <label for="title" class="form-label">Title</label>
                    <input type="text" class="form-control" id="title" required>
                </div>
                <div class="mb-3">
                    <label for="description" class="form-label">Description</label>
                    <textarea class="form-control" id="description" rows="4" required></textarea>
                </div>
                <div class="mb-3">
                    <label for="image" class="form-label">Image URL</label>
                    <input type="url" class="form-control" id="image" required>
                </div>
                <div class="mb-3">
                    <label for="github" class="form-label">GitHub URL</label>
                    <input type="url" class="form-control" id="github" required>
                </div>
                <button type="submit" class="btn btn-primary">Add Project</button>
            </form>
            <p class="success-message" id="addSuccess">Project added successfully!</p>
            <p class="error-message" id="addError">Failed to add project.</p>
        </div>

        <!-- Project List -->
        <div class="project-list">
            <h3>Existing Projects</h3>
            <div id="projectList"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        // Load projects
        async function loadProjects() {
            try {
                const response = await fetch('/api/projects');
                const data = await response.json();
                const projectList = document.getElementById('projectList');
                projectList.innerHTML = '';
                data.projects.forEach(project => {
                    const div = document.createElement('div');
                    div.className = 'project-item';
                    div.innerHTML = `
                        <h5>${project.title}</h5>
                        <p>${project.description}</p>
                        <p><strong>Image:</strong> <a href="${project.image}" target="_blank">${project.image}</a></p>
                        <p><strong>GitHub:</strong> <a href="${project.github}" target="_blank">${project.github}</a></p>
                        <button class="btn btn-warning btn-sm" onclick="editProject('${project.id}', '${project.title}', '${project.description}', '${project.image}', '${project.github}')">Edit</button>
                        <button class="btn btn-danger btn-sm" onclick="deleteProject('${project.id}')">Delete</button>
                    `;
                    projectList.appendChild(div);
                });
            } catch (error) {
                console.error('Error loading projects:', error);
            }
        }

        // Add project
        document.getElementById('addProjectForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const title = document.getElementById('title').value;
            const description = document.getElementById('description').value;
            const image = document.getElementById('image').value;
            const github = document.getElementById('github').value;
            try {
                const response = await fetch('/api/projects/add', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ title, description, image, github }),
                });
                const data = await response.json();
                if (response.ok) {
                    document.getElementById('addSuccess').style
